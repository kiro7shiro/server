<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor: pointer" title="close side menu" id="myOverlay"></div>

<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index: 3; width: 300px" id="mySidebar">
    <br />
    <div class="w3-container w3-row">
        <div class="w3-col s4">
            <img src="https://www.w3schools.com/w3images/avatar2.png" class="w3-circle w3-margin-right" style="width: 46px" />
        </div>
        <div class="w3-col s8 w3-bar">
            <span>welcome, <strong><%= user.name %></strong></span
            ><br />
            <a href="#" class="w3-bar-item w3-button"><i class="fa fa-envelope"></i></a>
            <a href="#" class="w3-bar-item w3-button"><i class="fa fa-user"></i></a>
            <a href="#" class="w3-bar-item w3-button"><i class="fa fa-cog"></i></a>
        </div>
    </div>
    <hr />
    <div class="w3-container">
        <h5>dashboard</h5>
    </div>
    <div class="w3-bar-block">
        <a href="#" class="w3-bar-item w3-button w3-hide-large w3-dark-grey w3-hover" onclick="w3_close()" title="close menu"
            ><i class="fa fa-remove fa-fw"></i>&nbsp; close</a
        >
        <% if(typeof items !== undefined ) { items.forEach(function(item){ %>
        <a href="/<%= item %>" class="w3-bar-item w3-button w3-padding w3-green"><i class="fa fa-users fa-fw"></i>&nbsp; <%= item %></a>
        <% })} %>
        <a href="/dashboard" class="w3-bar-item w3-button w3-padding"><i class="fa fa-dashboard"></i>&nbsp; dashboard</a>
        <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-cog fa-fw"></i>&nbsp; settings</a>
        <br />
        <a href="/users/logout" class="w3-bar-item w3-button w3-padding"><i class="fa fa-sign-out"></i>&nbsp; logout</a>
    </div>
</nav>

<script>
    // Get the Sidebar
    var mySidebar = document.getElementById('mySidebar')

    // Get the DIV with overlay effect
    var overlayBg = document.getElementById('myOverlay')

    // Toggle between showing and hiding the sidebar, and add overlay effect
    function w3_open() {
        if (mySidebar.style.display === 'block') {
            mySidebar.style.display = 'none'
            overlayBg.style.display = 'none'
        } else {
            mySidebar.style.display = 'block'
            overlayBg.style.display = 'block'
        }
    }

    // Close the sidebar with the close button
    function w3_close() {
        mySidebar.style.display = 'none'
        overlayBg.style.display = 'none'
    }
</script>
